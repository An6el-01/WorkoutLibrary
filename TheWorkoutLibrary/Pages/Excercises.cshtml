@page
@using TheWorkoutLibrary.Data
@model TheWorkoutLibrary.Pages.browseVideosModel
@{
    ViewData["Title"] = "Browse Videos";
    Layout = "~/Pages/_Layout.cshtml";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<div class="welcomeMessage">
    <h2>Exercises</h2>
</div>

<form class="SearchForm" method="POST"> 
    <div class="search">
        <input class="searchBox" asp-for="Search" placeholder="  Search" />
        <button class="searchBtn" type="submit" asp-page-handler="Search">SEARCH</button>
        @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
        {
            <button class="uploadButton" type="submit" asp-page-handler="Upload">UPLOAD</button>
        }
    </div>   
</form>

<form method="POST">
    <div class="browseVideo">
        <div class="savedWorkoutLevels">
            <h3 class="workoutLevel">
                Beginner
                <div class="material-symbols-outlined1">
                    <span class="material-symbols-outlined">fitness_center</span>
                </div>
            </h3>
            <h3 class="workoutLevel1">
                Intermediate
                <div class="material-symbols-outlined2">
                    <span class="material-symbols-outlined">fitness_center</span>
                    <span class="material-symbols-outlined">fitness_center</span>
                </div>
            </h3>
            <h3 class="workoutLevel2">
                Advanced
                <div class="material-symbols-outlined3">
                    <span class="material-symbols-outlined">fitness_center</span>
                    <span class="material-symbols-outlined">fitness_center</span>
                    <span class="material-symbols-outlined">fitness_center</span>
                </div>
            </h3>
        </div>

        @foreach (var WO in Model.excercises)
        {
            
                <iframe class="excerciseVideo" src="@WO.YoutubeURL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            
            <div class="videoDetails">
                <h2>@WO.Name </h2>
                @if (WO.Difficulty == "Beginner")
                {
                    <div class="material-symbols-outlined1">
                        <span class="material-symbols-outlined">fitness_center</span>
                    </div>}
                @if (WO.Difficulty == "Intermediate")
                {
                    <div class="material-symbols-outlined2">
                        <span class="material-symbols-outlined">fitness_center</span>
                        <span class="material-symbols-outlined">fitness_center</span>
                    </div>}
                @if (WO.Difficulty == "Advanced")
                {
                    <div class="material-symbols-outlined3">
                        <span class="material-symbols-outlined">fitness_center</span>
                        <span class="material-symbols-outlined">fitness_center</span>
                        <span class="material-symbols-outlined">fitness_center</span>
                    </div>}
                <div class="tooltip">
                    <div class="info">
                        <span class="tooltiptext">@WO.Notes</span>
                        <span class="material-symbols-outlined">
                            info
                        </span>
                    </div>
                </div>
                @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                {
                    <a class="edit" asp-page="/EditExcercise" asp-route-id="@WO.Id">
                        <span class="material-symbols-outlined">
                            edit_note
                        </span>
                    </a>
                }
            </div>
        }
    </div>
</form>

