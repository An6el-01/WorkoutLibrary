@page
@using TheWorkoutLibrary.Data
@model TheWorkoutLibrary.Pages.browseVideosModel
@{
    ViewData["Title"] = "Browse Videos";
    Layout = "~/Pages/_Layout.cshtml";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<div class="welcomeMessage">
    <h2>Exercises</h2>
</div>
<form class="SearchForm" method="POST">
    <div class="searchUpload">

        <div class="SearchFull">
            <div class="search"><input class="searchBox" asp-for="Search" placeholder="Search" /></div>
            <button class="searchButton" type="submit" asp-page-handler="Search">SEARCH</button>
        </div>


        @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))

        {
            <button class="uploadButton" type="submit" asp-page-handler="Upload">UPLOAD</button>
        }

    </div>
</form>

<div class="WorkoutDifficulty">
    <h4>Beginner</h4>
    <h4>Intermediate</h4>
    <h4>Advanced</h4> 
    <div class="KeyIcons">
        <div class="material-symbols-outlined1">
            <span class="material-symbols-outlined">
                fitness_center
            </span>
        </div>
        <div class="material-symbols-outlined2">
            <span class="material-symbols-outlined">
                fitness_center
            </span>
        </div>
        <div class="material-symbols-outlined3">
            <span class="material-symbols-outlined">
                fitness_center
            </span>
        </div>
    </div>
</div>


<form method="POST">
    <div class="browseVideo">
        @foreach (var WO in Model.excercises)
        {
            <div class="excerciseVideo">
                <iframe src="@WO.YoutubeURL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div class="videoDetails">
                <h2>@WO.Name </h2>
                <p>@WO.Difficulty </p>
                <div class="tooltip">
                    <div class="info">
                        <span class="tooltiptext">@WO.Notes</span>
                        <span class="material-symbols-outlined">
                            info
                        </span>
                    </div>
                </div>
                @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                {
                    <a class="edit" asp-page="/EditExcercise" asp-route-id="@WO.Id">
                        <span class="material-symbols-outlined">
                            edit_note
                        </span>
                    </a>
                }
            </div>
        }        
    </div>
</form>

